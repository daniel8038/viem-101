# 名词

在 Defi 中，我们经常听到人提到：AMM、CLMM、池、流动性、滑点 巴拉巴拉的一些专业的名词。理解这些名词是理解 Defi 的第一步

既然是去中心化金融，那怎么样才能称得上是去中心化那？ 答案就是：整个 swap 流程是没有人可以控制的，所有的执行都是合约自动完成，谁也改变不了。 什么叫谁也改变不那？ 做个对比就理解了

中心化的 swap 或者说交易的问题在哪？

传统交易的问题

想象你想用 ETH 换 USDC。在传统的中心化交易所，你需要：

注册账户、KYC 验证
把资产转到交易所
依赖交易所的撮合系统(比如一些垃圾交易所出现撮合问题，导致你出现合约爆仓，陪不陪你完全是交易所说了算)
承担交易所跑路的风险

核心问题：你必须信任一个中心化的第三方。

uniswap Defi 就出现了，一个不依赖中心化第三方的 swap 系统，uniswap 依赖的合约、数学公式和市场行为.

这个数学公式就是 AMM x \* y = k 自动做市了,v3 又 🈶 新的变化。这里不讲这些公式，因为我也费劲，哈哈。我们只需要理解：是这些个数学公式，实现了一个固定的定价模型，也就是说每一笔交易都会走下这个公式，得到相应的定价。每一个交易都遵循这个定价系统，这个系统完全是合约代码控制，所以是 Defi。这里不是很清楚，只能考你自己去查一下资料了，因为这一讲并不是要讲这些个公式的。

既然这个数学公式可以实现一个稳定的定价系统，那下边就要考虑业务了。swap 顾名思义就是交换，那既然是交互必然会涉及到两种代币。如果我们把合约理解为交易所的柜台和服务员，

用户 swap 的需求就给服务员一种 token 来换取另外的一种 token。比如：ETH 换取 USDC 但是有的用户需求是使用 USDC 换取 ETH。

那我们就要思考几个问题了，

- 第一：要 swap 的币从哪里来？

  uniswap 把流动性交给了市场行为，就是用户愿意提供多少流动性就是多少，用户不愿意提供那流动性就是 0，也就不能交易，当然流动性提供者是有奖励的，交易越频繁的代币，人们就越愿意为其添加流动性，他们提供了代币给用户 swap，所以才有了市场才可以交易，所以流动性提供者也被称为做市商。你完全可以把流动性当作可以用来交易的币。

  最后会用一个例子说一下，这里不理解没事，看了例子就明白了。

  既然 swap 涉及到两种 token，那流动性里就必须有两种 token 可以交易，这里不要误解，流动性是两种 token，这并不代表做市者提供流动性就一定要提供两种 token，这也是 uniswap v3 的特点。

  用户 ETH 换 USDC，做市者需要给用户 USDC，那这里需要的是市场有 USDC 的流动性。
  用户 USDC 换 ETH，做市者需要给用户 ETH，那这里需要的市场是有 ETH 的流动性。

  那 uniswap 这里把这两个流动性和在一起，就是流动性池，在这个池子里有两个 token，USDC 和 ETH，你爱怎么换怎么换，反正两种 token 的流动性夜景提供给你了。

- 第二：能够 swap 多少？
  这里就是 数学公式的定价系统了，这里不讲了，我也讲不明白，不如 AI，就是通过池子的储备量计算可以 swap 出来多少 token。

  反正就是 swap 多少的问题，就是通过 固定的数学公式解决的，每个人 swap 都是一样的，都是使用这种数学公式计算，算出来可以 swap 多少就是多少。

这是例子：
用户 A：我想用 USDC 兑换 ETH
用户 B：我想用 ETH 兑换 USDC
用户 C：我这么些个 ETH 和 USDC 有点多余啊，我又花不完，要是有地方能存进去让我取点利息就好了。

uniswap 小脑瓜子一动：我来做个平台，我去找点人，让他们把 USDC 和 ETH 存我这，到时候 A 和 B 就可以直接来我这兑换，我在收取点交易手续费，直接把这些手续费分给那些来我这存款的人。等他们取得时候，看看兑换出去多少，剩下多少到时候直接还给他们。完美运行，哈哈。

针对，需求和业务的逻辑大概就是这样了。

池：存有两种代币
流动性：池中的代币量就是流动性
AMM、CLMM：用来决定 swap 多少代币出来的定价公式
